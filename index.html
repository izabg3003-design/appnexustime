<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YD6Q53C4K2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-YD6Q53C4K2');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <!-- PWA & Mobile Meta -->
    <meta name="theme-color" content="#020617">
    <link rel="manifest" href="./manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="icon" type="image/png" href="https://vjauuuxmlyaxmzyhshxc.supabase.co/storage/v1/object/public/public-assets/nexus_logo.png">
    <link rel="apple-touch-icon" href="https://vjauuuxmlyaxmzyhshxc.supabase.co/storage/v1/object/public/public-assets/nexus_logo.png">

    <!-- SEO Master - Palavras-Chave Estratégicas -->
    <title>NexusTime - Melhor App de Controlo e Registo de Horas de Trabalho em Portugal</title>
    <meta name="description" content="O NexusTime é a aplicação de registo de horas ideal para gerir o seu horário de trabalho em Portugal. Calcule horas extra, organize pagamentos e gere relatórios de horas para o IRS. Perfeito para recibos verdes e trabalho por turnos.">
    <meta name="keywords" content="controlo de horas de trabalho, registo de horas de trabalho, gestão de horas trabalhadas, controlo de horários, registo de horas extra, controlo de pagamentos, calcular horas trabalhadas, não me pagaram horas extra, como calcular horas extra, erro no pagamento do salário, folha de horas trabalho, horas extra Portugal, recibos verdes controlo horas, IRS horas trabalhadas, relatório de horas para IRS, app controlo de horas, aplicação registo de horas, app gestão de horários">
    <link rel="canonical" href="https://nexustimepro.pt" />
    
    <!-- Structured Data (Schema.org) para Google Rich Snippets -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "NexusTime",
      "operatingSystem": "Web, Android, iOS",
      "applicationCategory": "BusinessApplication",
      "description": "Software profissional para controlo de horas de trabalho, gestão de horas extra e relatórios automáticos para IRS em Portugal.",
      "offers": {
        "@type": "Offer",
        "price": "14.99",
        "priceCurrency": "EUR"
      },
      "author": {
        "@type": "Organization",
        "name": "Digital Nexus Solutions"
      },
      "featureList": "Registo de horas extra, Cálculo de IRS e Segurança Social, Relatório para contabilista, Gestão de trabalho por turnos"
    }
    </script>

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #020617;
            color: #f8fafc;
            margin: 0;
            overflow-x: hidden;
            -webkit-tap-highlight-color: transparent;
            height: 100vh;
            width: 100vw;
        }
        
        #root {
            height: 100%;
            width: 100%;
        }

        .glass {
          background: rgba(15, 23, 42, 0.6);
          backdrop-filter: blur(20px);
          -webkit-backdrop-filter: blur(20px);
          border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .text-gradient {
          background: linear-gradient(135deg, #10b981 0%, #6366f1 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
        }

        .btn-primary {
          background: linear-gradient(135deg, #a855f7 0%, #6366f1 100%);
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .btn-primary:active {
          transform: scale(0.95);
        }

        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        @keyframes soft-float {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-8px); }
        }
        .animate-soft { animation: soft-float 6s ease-in-out infinite; }
        
        input, select, textarea {
          font-size: 16px !important;
        }

        /* Regras JivoChat */
        body:not(.jivo-visible) jdiv, 
        body:not(.jivo-visible) .jivo-iframe-container,
        body:not(.jivo-visible) [id^="jivo_container"],
        body:not(.jivo-visible) [class^="jivo-"] {
            display: none !important;
            visibility: hidden !important;
            pointer-events: none !important;
        }

        .jivo-iframe-container, 
        [id^="jivo_container"], 
        .jivo-iframe-container-bottom, 
        [class^="jivo-"],
        #jivo-iframe-container {
            z-index: 2147483647 !important;
        }

        @media screen and (max-width: 480px) {
            jdiv[class^="label_"], [id^="jivo_label"] {
                bottom: 20px !important;
                right: 20px !important;
                z-index: 2147483647 !important;
            }
        }

        @media print {
            @page { size: A4 portrait; margin: 0; }
            .no-print, aside, nav { display: none !important; }
            * { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; overflow: visible !important; }
            body { background: white !important; color: black !important; height: auto !important; padding: 0 !important; margin: 0 !important; font-size: 9pt !important; overflow: visible !important; }
            #root { background: white !important; height: auto !important; overflow: visible !important; }
            
            /* Neutralizar layout React para impressão */
            .flex.h-screen { display: block !important; height: auto !important; overflow: visible !important; }
            main { display: block !important; height: auto !important; overflow: visible !important; margin: 0 !important; padding: 0 !important; }
            
            /* Remover margens da sidebar durante a impressão */
            .md\:ml-24, .ml-0 { margin-left: 0 !important; padding-left: 0 !important; padding-right: 0 !important; }
            
            .print-container { width: 100% !important; max-width: 100% !important; background: white !important; color: black !important; padding: 15mm 10mm !important; margin: 0 !important; display: block !important; box-shadow: none !important; border: none !important; overflow: visible !important; min-height: auto !important; }
            .print-page-break { page-break-before: always !important; break-before: page !important; display: block !important; height: 1px; width: 100%; }
            
            table { width: 100% !important; border-collapse: collapse !important; page-break-inside: auto !important; border: 1px solid #000 !important; overflow: visible !important; }
            tr { page-break-inside: avoid !important; page-break-after: auto !important; }
            thead { display: table-header-group !important; }
            tfoot { display: table-footer-group !important; }
            
            th, td { border: 0.5pt solid #e2e8f0 !important; padding: 6pt 4pt !important; word-wrap: break-word !important; color: black !important; font-size: 7.5pt !important; }
            .bg-white { background-color: white !important; }
            .bg-slate-50, .bg-slate-100 { background-color: #f8fafc !important; }
            .text-emerald-600 { color: #059669 !important; }
            .text-red-600 { color: #dc2626 !important; }
        }
    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.2.3",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/",
    "lucide-react": "https://esm.sh/lucide-react@^0.562.0",
    "date-fns": "https://esm.sh/date-fns@^4.1.0",
    "date-fns/": "https://esm.sh/date-fns@^4.1.0/",
    "recharts": "https://esm.sh/recharts@^3.6.0",
    "@supabase/supabase-js": "https://esm.sh/@supabase/supabase-js@^2.89.0",
    "@google/genai": "https://esm.sh/@google/genai@^1.34.0",
    "vite": "https://esm.sh/vite@^7.3.0",
    "@vitejs/plugin-react": "https://esm.sh/@vitejs/plugin-react@^5.1.2",
    "@stripe/stripe-js": "https://esm.sh/@stripe/stripe-js@^8.6.0"
  }
}
</script>
</head>
<body>
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
    <script src="//code.jivosite.com/widget/wfDiRuDrnE" async></script>
    
    <!-- Service Worker Registration Fixed for TWA/Store -->
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('./sw.js', { scope: './' }).then(reg => {
            console.log('Nexus Sentinel Service Worker ativo na origem:', reg.scope);
          }).catch(err => {
            console.warn('Registro de SW ignorado ou falhou:', err.message);
          });
        });
      }
    </script>
</body>
</html>